#!/usr/bin/env ruby
# frozen_string_literal: true

require 'thor'
require 'i18n'

I18n.load_path << Dir[File.expand_path("../locales") + "/*.yml"]
# I use this to test the the existance ruby and thor in a system. Based on thor's example hello command.
class Greeting < Thor
  class_option :yell, type: :boolean

  desc 'adieu NAME', 'say adieu to NAME'
  long_desc <<-LONGDESC
    `greeting adieu` will print out an adieu message to a person of your choosing.
  LONGDESC
  def adieu(name = nil)
    greet('Adieu', name)
  end

  desc 'adios NAME', 'say adios to NAME'
  long_desc <<-LONGDESC
    `greeting adios` will print out an adios message to a person of your choosing.
  LONGDESC
  def adios(name = nil)
    greet('Adios', name)
  end

  desc 'bye NAME', 'say bye to NAME'
  long_desc <<-LONGDESC
    `greeting bye` will print out a bye message to a person of your choosing.
  LONGDESC
  def bye(name = nil)
    greet('Bye', name)
  end

  desc 'byebye NAME', 'say byebye to NAME'
  long_desc <<-LONGDESC
    `greeting byebye` will print out a byebye message to a person of your choosing.
  LONGDESC
  def byebye(name = nil)
    greet('Byebye', name)
  end

  desc 'ciao NAME', 'say ciao to NAME'
  long_desc <<-LONGDESC
    `greeting ciao` will print out a ciao message to a person of your choosing.
  LONGDESC
  def ciao(name = nil)
    greet('Ciao', name)
  end

  desc 'hello NAME', 'say hello to NAME'
  long_desc <<-LONGDESC
    `greeting hello` will print out a message to a person of your choosing.
  LONGDESC
  def hello(name = nil)
    # language = ask("Language: ")
    greet(I18n.t(:hello), name)
  end

  desc 'goodbye NAME', 'say goodbye to NAME'
  long_desc <<-LONGDESC
  LONGDESC

    greet('Goodbye', name)
  desc 'welcome NAME', 'say welcome to NAME'
  long_desc <<-LONGDESC
    `greeting welcome` will print out welcome message to a person of your choosing.
  LONGDESC
  def welcome(name = nil)
    greet(I18n.t(:welcome), name)
  end


    `greeting goodbye` will print out a goodbye message to a person of your choosing.
  def goodbye(name = nil)
  end

  map chao: :ciao
  map chau: :ciao
  map hola: :hello

  private

  def greet(greeting, name = nil, from = nil)
    name = name || ENV['USER'].capitalize || 'world'
    output = "#{greeting}, #{name}" unless options[:yell]
    output = "#{greeting.upcase}, #{name.upcase}" if options[:yell]
    say "#{output}!" if from.nil?
    say "#{output} from #{from}!" unless from.nil?
  end
end

# puts "hello, world!", "how's it going?"
Greeting.start(ARGV)
