#!/bin/bash
KR_DIR_BUA=$(asetus dir:bua)

case $1 in
	all) tyhjenna menu; tyhjenna startup; tyhjenna desktop;;
	desktop)
		if [ -d $KR_DIR_BUA/DESKTOP/ ]; then
			KR_DIR_DT=$(asetus dir:dt)
			KR_NAME_LNK=$(asetus str:lnk)
			KR_NAME_URL=$(asetus str:url)
			case $(uname) in
				CYGWIN*) if [ -f $KR_DIR_DT/$KR_NAME_LNK ]; then \cp $KR_DIR_DT/*.lnk $KR_DIR_BUA/DESKTOP/; \rm $KR_DIR_DT/*.lnk; fi;;
				Darwin) if [ -d $KR_DIR_DT/$KR_NAME_LNK ]; then \cp $KR_DIR_DT/*.app $KR_DIR_BUA/DESKTOP/; \rm $KR_DIR_DT/*.app; fi;;
				Ubuntu) if [ -f $KR_DIR_DT/$KR_NAME_LNK ]; then \cp $KR_DIR_DT/*.desktop $KR_DIR_BUA/DESKTOP/; \rm $KR_DIR_DT/*.desktop; fi;;
			esac
			if [ -f $KR_DIR_DT/$KR_NAME_URL ]; then \cp $KR_DIR_DT/*.url $KR_DIR_BUA/DESKTOP/; \rm $KR_DIR_DT/*.url; fi
		fi;;
	hst)
		if [ -f ~/.bash_history ]; then \rm ~/.bash_history; fi
		if [ -f ~/.wget-hsts ]; then \rm ~/.wget-hsts; fi
		;;
	sendto) KR_DIR_SENDTO=$(asetus dir:sendto); if [ -d $KR_DIR_SENDTO/ ]; then \cp $KR_DIR_SENDTO/*.lnk $KR_DIR_BUA/SENDTO/; \rm $KR_DIR_SENDTO/*.lnk; else virhe SHORTS no SENDTO directory; fi;;
	startup) KR_NAME_STARTUP=$(asetus str:startup); if [ -f $KR_DIR_STARTUP/$KR_NAME_STARTUP ]; then \cp $KR_DIR_STARTUP/*.lnk $KR_DIR_BUA/STARTUP/; \rm $KR_DIR_STARTUP/*.lnk; fi;;
	menu)
		if [ -d $KR_DIR_BUA/MENU/ ]; then
			KR_DIR_AMENU=$(asetus dir:amenu)
			KR_DIR_CMENU=$(asetus dir:cmenu)
			KR_DIR_PMENU=$(asetus dir:pmenu)
			KR_DIR_UMENU=$(asetus dir:umenu)
			if [ -d $KR_DIR_AMENU ]; then \cp $KR_DIR_AMENU/*.lnk $KR_DIR_BUA/MENU/; else virhe shorts.sh:28 dir $KR_DIR_AMENU missing; fi
			if [ -d $KR_DIR_UMENU ]; then \cp $KR_DIR_UMENU/*.lnk $KR_DIR_BUA/MENU/; else virhe shorts.sh:29 dir $KR_DIR_UMENU missing; fi
			if [ -d $KR_DIR_CMENU ]; then \cp $KR_DIR_CMENU/*.lnk $KR_DIR_BUA/CMENU/; else virhe shorts.sh:29 dir $KR_DIR_CMENU missing; fi
			if [ -d $KR_DIR_PMENU ]; then \cp $KR_DIR_PMENU/*.lnk $KR_DIR_BUA/PMENU/; else virhe shorts.sh:29 dir $KR_DIR_PMENU missing; fi
		else virhe shorts.sh:30 dir $KR_DIR_BUA/MENU/ missing
		fi;;
	*) tyhjenna menu; tyhjenna desktop;;
esac
