#!/usr/bin/env ruby
# frozen_string_literal: true

require 'thor'
# require 'fileutils'
# require 'csv'

# PROJEKTI class: list projects and their directories.
class Projekti < Thor
  default_task :tila

  desc 'dir', 'show the project directory.'
  def dir
    #
  end

  desc 'go', 'go to the project directory.'
  def go
    #
  end

  desc 'tila', 'show the git project status message in one line.'
  def tila
    status
  end

  private

  def status
    branch = "$(git status | \grep 'On branch')"
    status_message = "$(git status)"
    if branch.include?('master')
      update = "$(git status | \grep 'On branch' | \grep origin)"
      if update.include?('ahead')
      else
        puts update
      end
    else
      puts 'Not in master branch.'
    end
    puts "STATUS:\n#{status_message}"
  end

end

Projekti.start(ARGV)
