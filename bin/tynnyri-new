#!/usr/bin/env ruby
# frozen_string_literal: true

require 'thor'

# require 'fileutils'

class Tynnyri < Thor
  # alias
  default_task :default

  desc 'add', 'add to tynnyri.'
  def add(tynnyri_input)
    file = tynnyri_file
    if File.exists?(file)
      File.open(file, 'w') {|f| f.write(tynnyri_input) }
    else puts file
      puts file
    end
  end

  desc 'default', 'the default tynnyri command.'
  def default(*)
    if arg2 == "kick"
    elsif arg == "new"
    #
    elsif arg2 == "delete"
    end
  end

  desc 'delete', 'delete tynnyri.'
  def delete(*)
    #
  end

  desc 'kick', 'kick tynnyri.'
  def kick
    puts "kick"
  end

  desc 'new', 'new tynnyri.'
  def new; puts "new"; end

  private

  def tynnyri_file
    `verkko tty` + ".tynnyri"
  end
end

Tynnyri.start(ARGV)

