#!/usr/bin/env ruby
# frozen_string_literal: true

require 'thor'
# require 'fileutils'

# For mounting disks and related issues in nix-based cmdl systems (WSL for now). Run as 'sudo'.
class Levy < Thor
  class_option :letter, desc: 'define the drive letter.'

  desc 'berg LETTER', 'mount drive LETTER'
  long_desc <<-LONGDESC
    `levy berg` will mount drive to LETTER.
  LONGDESC
  def berg(letter = nil)
    mnt_path = "/mnt/#{letter}"
    mnt_path = "/Volumes/#{letter}" if RUBY_PLATFORM.include?('darwin')
    # stuff that happens inside berg command.
    puts "sudo mount -t drvfs #{letter}: #{mnt_path}"
  end

  desc 'default LETTER', 'mount LETTER'
  long_desc <<-LONGDESC
    `levy default` default command.
  LONGDESC
  def default
    # default
  end

  private

  def mount
    # actions inside def mouny
  end
end

Levy.start(ARGV)
