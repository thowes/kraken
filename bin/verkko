#!/bin/bash
KRN_EXT_IP_ADDRESS="http://ipinfo.io/ip"

case $1 in
	ext) \curl $KRN_EXT_IP_ADDRESS;;
	internet) if [ "$KR_NETWORK" != "NADA" ]; then echo true; else echo false; fi;;
	net) asetus str:network;;
	ssh) echo $SSH_AGENT_PID;;
	tty) tty | awk -F\/ '{print $3}';;
	*)
# not working properly in some cases
case $(uname) in
	CYGWIN*)
		case $1 in
			eth) netsh lan show interfaces;;
			ext) \curl $KRN_EXT_IP_ADDRESS;;
			internet) if [ "$KR_NETWORK" != "NADA" ]; then echo true; else echo false; fi;;
			ip) ipconfig|\grep IPv4|awk '{print $14}';;
			mac) ipconfig /all|\grep Physical|awk '{print $12}';;
			ssh) echo $SSH_AGENT_PID;;
			ssid) netsh wlan show interfaces|\grep SSID|\grep -v BSSID|awk '{print $3}';;
			tty) tty | awk -F\/ '{print $3}';;
			wlan) netsh wlan show interfaces;;
			*) ipconfig /all;;
		esac;;
	Darwin*)
		case $1 in
			eth) ifconfig eth0;;
			ext) \curl $KRN_EXT_IP_ADDRESS;;
			internet) if [ "$KR_NETWORK" != "NADA" ]; then echo true; else echo false; fi;;
			ip) ifconfig|\grep broadcast|awk '{print $2}';;
			mac) ifconfig -a|\grep ether|awk '{print $2}';;
			ssh) echo $SSH_AGENT_PID;;
			ssid) airport -I|\grep -v BSSID|\grep SSID|awk '{print $2}';;
			tty) tty | awk -F\/ '{print $3}';;
			wlan) ifconfig wlan0;;
			*) ifconfig -a;;
		esac;;
	Ubuntu*|Linux*)
		case $1 in
			eth) ifconfig eth0;;
			ext) \curl $KRN_EXT_IP_ADDRESS;;
			internet) if [ "$KR_NETWORK" != "NADA" ]; then echo true; else echo false; fi;;
			ip) ifconfig|\grep broadcast|awk '{print $2}';;
			mac) ifconfig -a|\grep ether|awk '{print $2}';;
			ssh) echo $SSH_AGENT_PID;;
			ssid) iwlist wlan0 scan|\grep ESSID;;
			tty) tty | awk -F\/ '{print $3}';;
			wlan) ifconfig wlan0;;
			*) ifconfig -a;;
		esac;;
	*) echo "[[ KRAKEN/VERKKO err2: $KAYTTIS ei tunnistettu/tuettu! ]]";;
esac;; esac
